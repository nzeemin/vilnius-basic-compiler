-q
----------------------------------------------------------------------
10 WIDTH 40,0
20 POKE &O177560,0
30 ? AT(4,10);"КОМАНДА RUN, ОПЕРАТОРЫ";AT(8,11);"STOP И END.";AT(4,12);"(описание формата)"
40 ? AT(20,5)"Имя файла: END1F"
50 GOSUB 1300
60 CLS 
70 DIM B%(15)
80 DIM A%(7,2),WW$(7)
90 CH%=0
100 N%=0
110 NZ%=0
120 CLS 
130 WW$(1)="10 'НАЧАЛО"
140 WW$(2)="20 A=5
150 WW$(3)="30 PRINT A"
160 WW$(4)="40 STOP"
170 WW$(5)="50 END"
180 RESTORE 700 
190 FOR I%=1 TO 4
200 READ A%(I%,1),A%(I%,2)
210 N%=N%+A%(I%,1)
220 NEXT 
230 RESTORE 710   
240 FOR I%=1 TO N%
250 READ B%(I%)
260 NEXT 
270 GOSUB 1390
280 GOSUB 1200
290 NZ%=NZ%+1
300 ? AT(37,21);NZ%
310 X8%=A%(NZ%,2)
320 X9%=A%(NZ%,2)+A%(NZ%,1)-1
330 ? AT(0,2);"╙";STRING$(25,"╣");AT(26,2);"ё"
340 FOR I%=3 TO 7
350 ? AT(0,I%);"╥";AT(26,I%);"╥"
360 NEXT 
370 ? AT(0,8);"╕";STRING$(25,"╣");AT(26,8);"╧"
380 ON NZ% GOSUB 880 ,960 ,1050,1120
390 X1%=3
400 X2%=7
410 R%=X1%
420 RX%=X1%
430 GOSUB 720 
440 FOR I%=X8% TO X9%
450 IF R%-2<>B%(I%) THEN 460 ELSE 490
460 IF I%=X9% THEN GOSUB 1430 ELSE 480
470 GOTO 430
480 NEXT 
490 X7%=I%
500 K1%=B%(I%)
510 B%(I%)=0
520 FOR I%=1 TO 3100
530 BEEP 
540 NEXT 
550 COLOR 8,2,2
560 ? AT(1,RZ%);WW$(RZ%-2)
570 B%(X7%)=0
580 A%(NZ%,1)=A%(NZ%,1)-1
590 IF A%(NZ%,1)<>0 GOTO 390
600 ? AT(0,0);STRING$(38,32)
610 ? AT(0,1);STRING$(38," ")
620 IF NZ%=4 THEN 650 
630 GOSUB 1300
640 GOTO 290
650 GOSUB 1300
660 CLS 
670 GOSUB 1540
680 POKE &O177560,&O100
685 LOAD "MENU1",R
690 END 
700 DATA 1,1,1,2,1,3,1,4
710 DATA 1,4,5,5
720 ? AT(1,RX%);WW$(RX%-2);AT(0,0);
730 COLOR 2,2,8
740 ? AT(1,R%);WW$(R%-2);AT(0,0);
750 COLOR 8,2,2
760 RX%=R%
770 GOSUB 1460
780 IF W%=13 THEN 860 
790 IF A1%(1)=27 AND A1%(2)=65 THEN 820 
800 IF A1%(1)=27 AND A1%(2)=66 THEN 840 
810 GOTO 770   
820 IF R%<>X1% THEN R%=R%-1 ELSE R%=X2%
830 GOTO 720   
840 IF R%<>X2% THEN R%=R%+1 ELSE R%=X1%
850 GOTO 720   
860 RZ%=R%
870 RETURN 
880 ? AT(1,3);WW$(1)
890 ? AT(1,4);WW$(2)
900 ? AT(1,5);WW$(3)
910 ? AT(1,6);WW$(4)
920 ? AT(1,7);WW$(5)
930 ? AT(1,0);"С какой строки выполняется программа,"
940 ? AT(0,1);"при вводе команды RUN ?"
950 RETURN 
960 ? AT(1,3);WW$(1)
970 ? AT(1,4);WW$(2)
980 ? AT(1,5);WW$(3)
990 ? AT(1,6);WW$(4)
1000 ? AT(1,7);WW$(5)
1010 ? AT(1,0);"Выбрать оператор временно приоста-"
1020 ? AT(0,1);"навливающий выполнение программы."
1030 RETURN 
1040 ? AT(1,3);WW$(1)
1050 ? AT(1,4);WW$(2)
1060 ? AT(1,5);WW$(3)
1070 ? AT(1,6);WW$(4)
1080 ? AT(1,7);WW$(5)
1090 ? AT(1,0);"Выбрать оператор заканчивающий"
1100 ? AT(0,1);"выполнение программы."
1110 RETURN 
1120 ? AT(1,3);WW$(1)
1130 ? AT(1,4);WW$(2)
1140 ? AT(1,5);WW$(3)
1150 ? AT(1,6);WW$(4)
1160 ? AT(1,7);WW$(5)
1170 ? AT(1,0);"Выбрать оператор, определяющий"
1180 ? AT(0,1);"конец программы."
1190 RETURN 
1200 ? AT(1,9)"RUN [АРГУМЕНТ] - начинает"
1210 ? AT(0,10)"выполнение программы."
1220 ? AT(1,12)"STOP - временно останавливает"
1230 ? AT(0,13)"выполнение программы."
1240 ? AT(1,15)"END - заканчивает выполнение"
1250 ? AT(0,16)"программы."
1260 ? AT(1,18)"CONT - продолжает выполнение"
1270 ? AT(0,19)"программы с того места, на"
1280 ? AT(0,20)"котором оно было прервано."
1290 RETURN 
1300 ? AT(2,22)"Нажмите клавишу ПРОБЕЛ.";
1310 IF INP(&O177560,&O200) THEN 1320 ELSE 1310
1320 W%=PEEK(&O177562)
1330 IF W%=32 THEN 1340 ELSE 1310
1340 FOR J%=3 TO 7
1350 ? AT(1,J%);SPC(25)
1360 NEXT J%
1370 ? AT(2,22);SPC(25)
1380 RETURN 
1390 ? AT(30,21)"Задание"
1400 ? AT(31,22)"END1F"
1410 ? AT(35,4)"ШТРАФ";AT(35,5)"╙╣╣╣ё";AT(35,6)"╥   ╥";AT(35,7)"╕╣╣╣╧"
1420 RETURN 
1430 CH%=CH%+1
1440 ? AT(36,6)CH%;AT(39,6)"╥";
1450 RETURN 
1460 FOR I%=1 TO 2
1470 IF INP(&O177560,&O200) THEN 1480 ELSE 1470
1480 W%=PEEK(&O177562)
1490 IF W%=13 AND I%=1 THEN 1530
1500 IF W%=27 AND I%=1 THEN A1%(1)=W% ELSE A1%(2)=W%
1510 IF W%<>27 AND I%=1 THEN I%=2
1520 NEXT I%
1530 RETURN 
1540 ? AT(9,2)"Штрафные очки-";CH%;
1580 IF CH%=>15 THEN 1640
1590 IF CH%=>7 THEN 1620
1600 ? AT(9,3)"О Т Л И Ч Н О  !"
1610 GOTO 1650
1620 ? AT(9,3)"ПОСРЕДСТВЕННО."
1630 GOTO 1650
1640 ? AT(9,3)"ОЧЕНЬ МНОГО, ОЧЕНЬ.";AT(2,4)"Повторите теоретический материал."
1650 ? AT(0,15)
1660 RETURN 
